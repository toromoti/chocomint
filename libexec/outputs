#!/bin/bash
# vim: ft=sh

_compound_indent_echo() {
  local _compound_spaces=''

  for ((i=0; i<$1; i++)); do
    _compound_spaces="$_compound_spaces "
  done

  echo "$2" | sed "s/^/$_compound_spaces/" >&3
}


_compound_printf() {
  printf $@ >&3
}


_compound_echo() {
  echo "$@" >&3
}


_compound_eval_echo() {
  eval "_compound_echo $@"
}


_compound_tput() {
  tput $@ >&3
}


_compound_draw_ruler() {
  [ "$_COMPOUND_TERM_COLS" ] || {
    local _compound_cols=`tput _compound_cols 2>&4`
    for ((i=0; i<$_compound_cols; i++)); do
      _COMPOUND_TERM_COLS="$_COMPOUND_TERM_COLS""$1"
    done
  }
  _compound_echo "$_COMPOUND_TERM_COLS"
}
